<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>BTC 数据查看器</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    select { margin-bottom: 20px; padding: 5px; }
    pre { background: #f4f4f4; padding: 15px; border-radius: 5px; max-height: 500px; overflow: auto; }
  </style>
</head>
<body>
  <h2>BTC 数据查看器</h2>

  <label for="dataType">选择数据类型：</label>
  <select id="dataType">
    <option value="现货btcusdt_1h.json">现货 (Spot)</option>
    <option value="合约_btcusdt_1h.json">合约 (Futures)</option>
  </select>

  <pre id="output">请选择数据类型</pre>

  <script>
    const select = document.getElementById("dataType");
    const output = document.getElementById("output");

    async function loadData(fileName) {
      try {
        output.textContent = "加载中...";
        const response = await fetch(fileName);
        if (!response.ok) {
          throw new Error("HTTP 错误: " + response.status);
        }
        const data = await response.json();
        output.textContent = JSON.stringify(data.slice(0, 20), null, 2); 
        // 只显示前20条，避免太长
      } catch (err) {
        output.textContent = "加载失败: " + err;
      }
    }

    // 默认加载第一个
    loadData(select.value);

    // 切换时加载
    select.addEventListener("change", () => {
      loadData(select.value);
    });
  </script>
</body>
</html>
